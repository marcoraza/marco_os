import{a as v,j as e,b as w}from"./vendor-motion-Bf_hqqYm.js";import{I as r,B as b,c as n,C as p,S as g,a as C}from"./index-Dv6BZTtJ.js";import"./vendor-charts-CffnG748.js";const d=[{id:"assigned",label:"Atribuída",icon:"inbox",color:"text-text-secondary",dotColor:"blue",variant:"neutral"},{id:"started",label:"Iniciada",icon:"play_circle",color:"text-accent-blue",dotColor:"blue",variant:"blue"},{id:"in-progress",label:"Em Andamento",icon:"autorenew",color:"text-accent-orange",dotColor:"orange",variant:"orange"},{id:"standby",label:"Stand By",icon:"pause_circle",color:"text-accent-purple",dotColor:"purple",variant:"purple"},{id:"done",label:"Concluída",icon:"check_circle",color:"text-brand-mint",dotColor:"mint",variant:"mint"}],h={high:{label:"P0",bg:"bg-accent-red",text:"text-white",fullLabel:"Crítica"},medium:{label:"P1",bg:"bg-accent-orange",text:"text-white",fullLabel:"Média"},low:{label:"P2",bg:"bg-text-secondary/40",text:"text-white",fullLabel:"Baixa"}},I=({task:t,onBack:f,onStatusChange:x})=>{const[m,u]=v.useState(!1),c=d.find(s=>s.id===t.status)||d[0],a=h[t.priority]||h.low,j=(()=>{const s=[],i=new Date,l=o=>`${o.getHours().toString().padStart(2,"0")}:${o.getMinutes().toString().padStart(2,"0")}`;return t.status==="done"&&s.push({time:`HOJE - ${l(i)}`,title:"Missão Concluída",description:"Tarefa marcada como finalizada.",active:!0}),["done","in-progress","standby"].includes(t.status)&&s.push({time:`HOJE - ${l(new Date(i.getTime()-36e5))}`,title:"Em Progresso",description:"Trabalho ativo na tarefa.",active:t.status==="in-progress"}),["done","in-progress","standby","started"].includes(t.status)&&s.push({time:`HOJE - ${l(new Date(i.getTime()-72e5))}`,title:"Missão Iniciada",description:"Início do trabalho registrado no sistema.",active:t.status==="started"}),s.push({time:"CRIAÇÃO",title:"Missão Atribuída",description:`Tarefa criada e atribuída a ${t.assignee}.`,active:t.status==="assigned"}),s})();return e.jsxs("div",{className:"flex flex-col h-full bg-bg-base",children:[e.jsxs("header",{className:"h-14 bg-header-bg border-b border-border-panel px-4 sm:px-8 flex items-center justify-between shrink-0 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-5 min-w-0",children:[e.jsxs("button",{onClick:f,className:"flex items-center gap-1.5 text-text-secondary hover:text-brand-mint transition-colors shrink-0",children:[e.jsx(r,{name:"arrow_back",size:"sm"}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest hidden sm:inline",children:"Voltar"})]}),e.jsx("div",{className:"h-5 w-px bg-border-panel shrink-0 hidden sm:block"}),e.jsx("h1",{className:"text-[11px] sm:text-xs font-black uppercase tracking-widest text-text-primary truncate",children:t.title})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs(b,{variant:c.variant,size:"sm",children:[e.jsx(r,{name:c.icon,className:"text-[10px]"}),e.jsx("span",{className:"hidden sm:inline",children:c.label})]}),e.jsx("span",{className:n("px-2 py-0.5 rounded-full text-[9px] font-black shrink-0",a.bg,a.text),children:a.label})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"max-w-[1200px] mx-auto px-4 sm:px-8 py-6 sm:py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(p,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-text-secondary",children:"STATUS DA MISSÃO"}),e.jsx("button",{onClick:()=>u(!m),className:"text-[8px] font-bold text-brand-mint uppercase tracking-widest hover:underline",children:m?"Fechar":"Alterar"})]}),m?e.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(s=>e.jsxs("button",{onClick:()=>{x(t.id,s.id),u(!1)},className:n("flex items-center gap-2 px-3 py-2 rounded-sm border text-[10px] font-bold uppercase tracking-wide transition-all",t.status===s.id?"border-brand-mint/30 bg-brand-mint/5 text-brand-mint":"border-border-panel text-text-secondary hover:text-text-primary hover:border-text-secondary/30"),children:[e.jsx(r,{name:s.icon,size:"xs",className:s.color}),s.label,t.status===s.id&&e.jsx(r,{name:"check",size:"xs",className:"text-brand-mint"})]},s.id))}):e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{className:"flex items-center gap-1 flex-1",children:d.map((s,i)=>{const l=d.findIndex(y=>y.id===t.status),o=i<=l,N=s.id===t.status;return e.jsxs(w.Fragment,{children:[e.jsx("div",{className:n("size-8 rounded-sm border flex items-center justify-center transition-all shrink-0",N?"bg-brand-mint/10 border-brand-mint/30 text-brand-mint scale-110":o?"bg-surface border-border-panel text-text-primary":"bg-bg-base border-border-panel/50 text-text-secondary/30"),children:e.jsx(r,{name:s.icon,size:"xs"})}),i<d.length-1&&e.jsx("div",{className:n("flex-1 h-[2px] rounded-full min-w-[8px]",i<l?"bg-brand-mint/40":"bg-border-panel")})]},s.id)})})})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-px bg-border-panel border border-border-panel rounded-sm overflow-hidden",children:[e.jsxs("div",{className:"bg-surface p-4 space-y-1",children:[e.jsx("p",{className:"text-[8px] uppercase font-black text-text-secondary tracking-widest",children:"RESPONSÁVEL"}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.assignee.startsWith("http")?e.jsx("img",{src:t.assignee,className:"size-5 rounded-sm object-cover",alt:""}):e.jsx("div",{className:"size-5 rounded-sm bg-indigo-500 flex items-center justify-center text-[8px] font-bold text-white",children:t.assignee}),e.jsx("p",{className:"text-[11px] font-bold text-text-primary",children:t.assignee.startsWith("http")?"Membro":t.assignee})]})]}),e.jsxs("div",{className:"bg-surface p-4 space-y-1",children:[e.jsx("p",{className:"text-[8px] uppercase font-black text-text-secondary tracking-widest",children:"Prioridade"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:n("px-2 py-0.5 rounded-full text-[8px] font-black",a.bg,a.text),children:a.label}),e.jsx("p",{className:"text-[11px] font-bold text-text-primary",children:a.fullLabel})]})]}),e.jsxs("div",{className:"bg-surface p-4 space-y-1",children:[e.jsx("p",{className:"text-[8px] uppercase font-black text-text-secondary tracking-widest",children:"Prazo"}),e.jsx("p",{className:n("text-[11px] font-bold",t.deadline==="Hoje"?"text-accent-red":"text-text-primary"),children:t.deadline})]}),e.jsxs("div",{className:"bg-surface p-4 space-y-1",children:[e.jsx("p",{className:"text-[8px] uppercase font-black text-text-secondary tracking-widest",children:"Tag"}),e.jsx(b,{variant:"neutral",size:"xs",children:t.tag})]}),e.jsxs("div",{className:"bg-surface p-4 space-y-1",children:[e.jsx("p",{className:"text-[8px] uppercase font-black text-text-secondary tracking-widest",children:"DEPENDÊNCIAS"}),e.jsx("p",{className:"text-[11px] font-bold text-text-primary font-mono",children:t.dependencies||0})]}),e.jsxs("div",{className:"bg-surface p-4 space-y-1",children:[e.jsx("p",{className:"text-[8px] uppercase font-black text-text-secondary tracking-widest",children:"ID"}),e.jsxs("p",{className:"text-[11px] font-bold text-text-secondary font-mono",children:["#",t.id]})]})]}),e.jsxs("div",{children:[e.jsx(g,{className:"mb-3 text-text-secondary",icon:"preview",children:"Preview do Card"}),e.jsxs(p,{className:"p-4 space-y-2 max-w-sm",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsx("span",{className:"text-[13px] text-text-primary font-medium leading-snug",children:t.title}),e.jsx("span",{className:n("px-2 py-0.5 rounded-full text-[9px] font-black shrink-0",a.bg,a.text),children:a.label})]}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:"text-[11px] text-text-secondary leading-relaxed",children:t.tag}),t.deadline&&t.deadline!=="A definir"&&e.jsx("p",{className:n("text-[11px] leading-relaxed",t.deadline==="Hoje"?"text-accent-red":t.deadline==="Amanhã"?"text-accent-orange":t.deadline.includes("atrás")||t.deadline==="Ontem"?"text-brand-mint":"text-text-secondary"),children:t.deadline==="Hoje"?"Prazo: Hoje — urgente":t.deadline==="Amanhã"?"Prazo: Amanhã":t.deadline==="Ontem"?"Concluído ontem":`Prazo: ${t.deadline}`})]}),e.jsxs("p",{className:"text-[11px] font-mono text-text-secondary/60 pt-0.5",children:["2026-02-16T",(20+t.id%4).toString().padStart(2,"0"),":",(t.id*17%60).toString().padStart(2,"0"),":00Z"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.status!=="done"&&e.jsxs("button",{onClick:()=>x(t.id,"done"),className:"flex items-center gap-2 px-4 py-2.5 bg-brand-mint/10 border border-brand-mint/30 text-brand-mint rounded-sm text-[10px] font-bold uppercase tracking-widest hover:bg-brand-mint/20 transition-colors",children:[e.jsx(r,{name:"check_circle",size:"xs"}),"Marcar como Concluída"]}),t.status==="assigned"&&e.jsxs("button",{onClick:()=>x(t.id,"started"),className:"flex items-center gap-2 px-4 py-2.5 bg-accent-blue/10 border border-accent-blue/30 text-accent-blue rounded-sm text-[10px] font-bold uppercase tracking-widest hover:bg-accent-blue/20 transition-colors",children:[e.jsx(r,{name:"play_circle",size:"xs"}),"Iniciar Missão"]}),t.status==="started"&&e.jsxs("button",{onClick:()=>x(t.id,"in-progress"),className:"flex items-center gap-2 px-4 py-2.5 bg-accent-orange/10 border border-accent-orange/30 text-accent-orange rounded-sm text-[10px] font-bold uppercase tracking-widest hover:bg-accent-orange/20 transition-colors",children:[e.jsx(r,{name:"autorenew",size:"xs"}),"Mover para Em Andamento"]}),t.status==="in-progress"&&e.jsxs("button",{onClick:()=>x(t.id,"standby"),className:"flex items-center gap-2 px-4 py-2.5 bg-surface border border-border-panel text-text-secondary rounded-sm text-[10px] font-bold uppercase tracking-widest hover:text-text-primary transition-colors",children:[e.jsx(r,{name:"pause_circle",size:"xs"}),"Pausar"]})]})]}),e.jsxs("aside",{className:"space-y-4",children:[e.jsx(g,{className:"text-text-secondary",icon:"timeline",children:"Timeline"}),e.jsx(p,{className:"p-5",children:e.jsx("div",{className:"relative space-y-6 before:absolute before:inset-0 before:ml-2.5 before:h-full before:w-px before:bg-border-panel",children:j.map((s,i)=>e.jsxs("div",{className:"relative pl-8",children:[e.jsx(C,{color:s.active?c.dotColor:"blue",glow:s.active,className:"absolute left-1 top-0.5 z-10",size:"md"}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:n("text-[9px] font-mono",s.active?c.color:"text-text-secondary/60"),children:s.time}),e.jsx("p",{className:"text-[11px] font-bold uppercase text-text-primary",children:s.title}),e.jsx("p",{className:"text-[10px] text-text-secondary leading-snug",children:s.description})]})]},i))})}),e.jsxs(p,{className:"p-4 space-y-3",children:[e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-text-secondary",children:"RESUMO RÁPIDO"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[9px] text-text-secondary",children:"Status"}),e.jsxs(b,{variant:c.variant,size:"xs",children:[e.jsx(r,{name:c.icon,className:"text-[8px]"}),c.label]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[9px] text-text-secondary",children:"Prioridade"}),e.jsxs("span",{className:n("px-2 py-0.5 rounded-full text-[8px] font-black",a.bg,a.text),children:[a.label," — ",a.fullLabel]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[9px] text-text-secondary",children:"Prazo"}),e.jsx("span",{className:n("text-[9px] font-bold",t.deadline==="Hoje"?"text-accent-red":"text-text-primary"),children:t.deadline})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[9px] text-text-secondary",children:"Tag"}),e.jsx("span",{className:"text-[9px] font-bold text-text-primary",children:t.tag})]})]})]})]})]})})})]})};export{I as default};
